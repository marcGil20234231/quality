import{b as o}from"./chunk-4AEBGA5V.js";import{M as u,R as d,n as s}from"./chunk-C2RAPJWX.js";import{a as i,b as a}from"./chunk-2NFLSA4Y.js";var p=class n{constructor(t){this.http=t}addStudent(t){return this.http.post("/api/students",t)}apiUrl="http://localhost:3000/students";getStudents(){return this.http.get(this.apiUrl)}getStudent(t){return this.http.get(`${this.apiUrl}/${t}`)}createStudent(t){let e=a(i({},t),{enrolledCourses:[],completedCourses:[],progress:[],createdAt:new Date,updatedAt:new Date,id:Math.floor(Math.random()*1e3)});return this.http.post(this.apiUrl,e)}updateStudent(t,e){let r=a(i({},e),{updatedAt:new Date});return this.http.put(`${this.apiUrl}/${t}`,r)}deleteStudent(t){return this.http.delete(`${this.apiUrl}/${t}`)}enrollStudent(t,e){return this.getStudent(t).pipe(s(r=>(r.enrolledCourses.includes(e)||(r.enrolledCourses.push(e),r.progress=[...r.progress??[],{courseId:e,progressPercentage:0,lastAccessed:new Date}]),r)),l(r=>this.updateStudent(t,r)))}searchStudents(t){return this.http.get(`${this.apiUrl}?q=${t}`)}static \u0275fac=function(e){return new(e||n)(d(o))};static \u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"})};function l(n){throw new Error("Function not implemented.")}export{p as a};
