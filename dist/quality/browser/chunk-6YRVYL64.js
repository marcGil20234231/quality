import{b as m}from"./chunk-4AEBGA5V.js";import{H as i,M as p,R as a,k as e,v as o}from"./chunk-C2RAPJWX.js";var u=class l{constructor(t){this.http=t}apiUrl="http://localhost:3000/enrollments";enrollStudent(t,r){return this.getStudentEnrollments(t).pipe(i(n=>{if(n.find(s=>s.courseId===r&&s.status==="active"))return e(()=>new Error("Already enrolled in this course"));let c={studentId:t,courseId:r,enrollmentDate:new Date().toISOString(),status:"active",progress:0,lastAccessed:new Date().toISOString()};return this.http.post(this.apiUrl,c)}),o(n=>e(()=>n)))}getStudentEnrollments(t){return this.http.get(`${this.apiUrl}?studentId=${t}`).pipe(o(r=>e(()=>r)))}getCourseEnrollments(t){return this.http.get(`${this.apiUrl}?courseId=${t}`).pipe(o(r=>e(()=>r)))}updateEnrollmentStatus(t,r){return this.http.patch(`${this.apiUrl}/${t}`,{status:r}).pipe(o(n=>e(()=>n)))}static \u0275fac=function(r){return new(r||l)(a(m))};static \u0275prov=p({token:l,factory:l.\u0275fac,providedIn:"root"})};export{u as a};
